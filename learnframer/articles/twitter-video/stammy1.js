!function(a,b){var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document),function(a){a.fn.unveil=function(b,c){function d(){var b=j.filter(function(){var b=a(this);if(!b.is(":hidden")){var c=f.scrollTop(),d=c+f.height(),e=b.offset().top,h=e+b.height();return h>=c-g&&d+g>=e}});e=b.trigger("unveil"),j=j.not(e)}var e,f=a(window),g=b||0,h=window.devicePixelRatio>1,i=h?"data-src-retina":"data-src",j=this;return this.one("unveil",function(){var a=this.getAttribute(i);a=a||this.getAttribute("data-src"),a&&("IMG"===this.tagName?this.setAttribute("src",a):this.style.backgroundImage="url('"+a+"')","function"==typeof c&&c.call(this))}),f.scroll(a.throttle(200,d)),f.resize(a.throttle(200,d)),d(),this}}(window.jQuery||window.Zepto),function(a){function b(){var b=a();if(a.each(d,function(a,c){var d=c.data.selector,e=c.$element;b=b.add(d?e.find(d):e)}),b.length)for(var c=0;b.length>c;c++)if(b[c])if(a.contains(g,b[c])){var e=a(b[c]),h=e.data("inview"),i=e[0].getBoundingClientRect(),j=e.height(),k=e.width();i.top>=0-j&&i.left>=0-k&&i.bottom<=(f.innerHeight||g.clientHeight)+j&&i.right<=(f.innerWidth||g.clientWidth)+k?h||e.data("inview",!0).trigger("inview",[!0]):h&&e.data("inview",!1).trigger("inview",[!1])}else delete b[c]}var c,d={},e=document,f=window,g=e.documentElement,h=a.expando;a.event.special.inview={add:function(e){d[e.guid+"-"+this[h]]={data:e,$element:a(this)},c||a.isEmptyObject(d)||(c=setInterval(b,333))},remove:function(b){try{delete d[b.guid+"-"+this[h]]}catch(e){}a.isEmptyObject(d)&&(clearInterval(c),c=null)}}}(jQuery),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var d=document.createElement("div"),e=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],f="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";d.className="fit-vids-style",d.id="fit-vids-style",d.style.display="none",d.innerHTML=f,e.parentNode.insertBefore(d,e)}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d=d.not("object object"),d.each(function(){var b=a(this);if(!("embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),d=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),e=c/d;if(!b.attr("id")){var f="fitvid"+Math.floor(999999*Math.random());b.attr("id",f)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,g,h;for(var i in s)if(s.hasOwnProperty(i)){if(a=[],b=s[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?u[h[0]]=e:(!u[h[0]]||u[h[0]]instanceof Boolean||(u[h[0]]=new Boolean(u[h[0]])),u[h[0]][h[1]]=e),r.push((e?"":"no-")+h.join("-"))}}function f(a){var b=v.className,c=u._config.classPrefix||"";if(w&&(b=b.baseVal),u._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}u._config.enableClasses&&(b+=" "+c+a.join(" "+c),w?v.className.baseVal=b:v.className=b)}function g(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function h(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function i(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):w?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function j(){var a=b.body;return a||(a=i(w?"svg":"body"),a.fake=!0),a}function k(a,c,d,e){var f,g,h,k,l="modernizr",m=i("div"),n=j();if(parseInt(d,10))for(;d--;)h=i("div"),h.id=e?e[d]:l+(d+1),m.appendChild(h);return f=i("style"),f.type="text/css",f.id="s"+l,(n.fake?n:m).appendChild(f),n.appendChild(m),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),m.id=l,n.fake&&(n.style.background="",n.style.overflow="hidden",k=v.style.overflow,v.style.overflow="hidden",v.appendChild(n)),g=c(m,a),n.fake?(n.parentNode.removeChild(n),v.style.overflow=k,v.offsetHeight):m.parentNode.removeChild(m),!!g}function l(a,b){return!!~(""+a).indexOf(b)}function m(b,d){var e=b.length;if("CSS"in a&&"supports"in a.CSS){for(;e--;)if(a.CSS.supports(h(b[e]),d))return!0;return!1}if("CSSSupportsRule"in a){for(var f=[];e--;)f.push("("+h(b[e])+":"+d+")");return f=f.join(" or "),k("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"==getComputedStyle(a,null).position})}return c}function n(a,b){return function(){return a.apply(b,arguments)}}function o(a,b,c){var e;for(var f in a)if(a[f]in b)return c===!1?a[f]:(e=b[a[f]],d(e,"function")?n(e,c||b):e);return!1}function p(a,b,e,f){function h(){k&&(delete F.style,delete F.modElem)}if(f=d(f,"undefined")?!1:f,!d(e,"undefined")){var j=m(a,e);if(!d(j,"undefined"))return j}for(var k,n,o,p,q,r=["modernizr","tspan","samp"];!F.style&&r.length;)k=!0,F.modElem=i(r.shift()),F.style=F.modElem.style;for(o=a.length,n=0;o>n;n++)if(p=a[n],q=F.style[p],l(p,"-")&&(p=g(p)),F.style[p]!==c){if(f||d(e,"undefined"))return h(),"pfx"==b?p:!0;try{F.style[p]=e}catch(s){}if(F.style[p]!=q)return h(),"pfx"==b?p:!0}return h(),!1}function q(a,b,c,e,f){var g=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+B.join(g+" ")+g).split(" ");return d(b,"string")||d(b,"undefined")?p(h,b,e,f):(h=(a+" "+z.join(g+" ")+g).split(" "),o(h,b,c))}var r=[],s=[],t={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){s.push({name:a,fn:b,options:c})},addAsyncTest:function(a){s.push({name:null,fn:a})}},u=function(){};u.prototype=t,u=new u;var v=b.documentElement,w="svg"===v.nodeName.toLowerCase(),x=t._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];t._prefixes=x;var y="Moz O ms Webkit",z=t._config.usePrefixes?y.toLowerCase().split(" "):[];t._domPrefixes=z;var A=function(a,b){var c=!1,d=i("div"),e=d.style;if(a in e){var f=z.length;for(e[a]=b,c=e[a];f--&&!c;)e[a]="-"+z[f]+"-"+b,c=e[a]}return""===c&&(c=!1),c};t.prefixedCSSValue=A;var B=t._config.usePrefixes?y.split(" "):[];t._cssomPrefixes=B;var C=function(b){var d,e=x.length,f=a.CSSRule;if("undefined"==typeof f)return c;if(!b)return!1;if(b=b.replace(/^@/,""),d=b.replace(/-/g,"_").toUpperCase()+"_RULE",d in f)return"@"+b;for(var g=0;e>g;g++){var h=x[g],i=h.toUpperCase()+"_"+d;if(i in f)return"@-"+h.toLowerCase()+"-"+b}return!1};t.atRule=C;var D=t.testStyles=k;u.addTest("touchevents",function(){var c;if("ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch)c=!0;else{var d=["@media (",x.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");D(d,function(a){c=9===a.offsetTop})}return c});var E={elem:i("modernizr")};u._q.push(function(){delete E.elem});var F={style:E.elem.style};u._q.unshift(function(){delete F.style}),t.testAllProps=q;var G=t.prefixed=function(a,b,c){return 0===a.indexOf("@")?C(a):(-1!=a.indexOf("-")&&(a=g(a)),b?q(a,b,c):q(a,"pfx"))};t.prefixedCSS=function(a){var b=G(a);return b&&h(b)},e(),f(r),delete t.addTest,delete t.addAsyncTest;for(var H=0;H<u._q.length;H++)u._q[H]();a.Modernizr=u}(window,document),!function(a){"use strict";function b(a){return null!==a&&a===a.window}function c(a){return b(a)?a:9===a.nodeType&&a.defaultView}function d(a){var b,d,e={top:0,left:0},f=a&&a.ownerDocument;return b=f.documentElement,"undefined"!=typeof a.getBoundingClientRect&&(e=a.getBoundingClientRect()),d=c(f),{top:e.top+d.pageYOffset-b.clientTop,left:e.left+d.pageXOffset-b.clientLeft}}function e(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function f(a){if(k.allowEvent(a)===!1)return null;for(var b=null,c=a.target||a.srcElement;null!==c.parentElement;){if(!(c instanceof SVGElement||-1===c.className.indexOf("waves-effect"))){b=c;break}if(c.classList.contains("waves-effect")){b=c;break}c=c.parentElement}return b}function g(b){var c=f(b);null!==c&&(j.show(b,c),"ontouchstart"in a&&(c.addEventListener("touchend",j.hide,!1),c.addEventListener("touchcancel",j.hide,!1)),c.addEventListener("mouseup",j.hide,!1),c.addEventListener("mouseleave",j.hide,!1))}var h=h||{},i=document.querySelectorAll.bind(document),j={duration:750,show:function(a,b){if(2===a.button)return!1;var c=b||this,f=document.createElement("div");f.className="waves-ripple",c.appendChild(f);var g=d(c),h=a.pageY-g.top,i=a.pageX-g.left,k="scale("+c.clientWidth/100*10+")";"touches"in a&&(h=a.touches[0].pageY-g.top,i=a.touches[0].pageX-g.left),f.setAttribute("data-hold",Date.now()),f.setAttribute("data-scale",k),f.setAttribute("data-x",i),f.setAttribute("data-y",h);var l={top:h+"px",left:i+"px"};f.className=f.className+" waves-notransition",f.setAttribute("style",e(l)),f.className=f.className.replace("waves-notransition",""),l["-webkit-transform"]=k,l["-moz-transform"]=k,l["-ms-transform"]=k,l["-o-transform"]=k,l.transform=k,l.opacity="1",l["-webkit-transition-duration"]=j.duration+"ms",l["-moz-transition-duration"]=j.duration+"ms",l["-o-transition-duration"]=j.duration+"ms",l["transition-duration"]=j.duration+"ms",l["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",f.setAttribute("style",e(l))},hide:function(a){k.touchup(a);var b=this,c=(1.4*b.clientWidth,null),d=b.getElementsByClassName("waves-ripple");if(!(d.length>0))return!1;c=d[d.length-1];var f=c.getAttribute("data-x"),g=c.getAttribute("data-y"),h=c.getAttribute("data-scale"),i=Date.now()-Number(c.getAttribute("data-hold")),l=350-i;0>l&&(l=0),setTimeout(function(){var a={top:g+"px",left:f+"px",opacity:"0","-webkit-transition-duration":j.duration+"ms","-moz-transition-duration":j.duration+"ms","-o-transition-duration":j.duration+"ms","transition-duration":j.duration+"ms","-webkit-transform":h,"-moz-transform":h,"-ms-transform":h,"-o-transform":h,transform:h};c.setAttribute("style",e(a)),setTimeout(function(){try{b.removeChild(c)}catch(a){return!1}},j.duration)},l)},wrapInput:function(a){for(var b=0;b<a.length;b++){var c=a[b];if("input"===c.tagName.toLowerCase()){var d=c.parentNode;if("i"===d.tagName.toLowerCase()&&-1!==d.className.indexOf("waves-effect"))continue;var e=document.createElement("i");e.className=c.className+" waves-input-wrapper";var f=c.getAttribute("style");f||(f=""),e.setAttribute("style",f),c.className="waves-button-input",c.removeAttribute("style"),d.replaceChild(e,c),e.appendChild(c)}}}},k={touches:0,allowEvent:function(a){var b=!0;return"touchstart"===a.type?k.touches+=1:"touchend"===a.type||"touchcancel"===a.type?setTimeout(function(){k.touches>0&&(k.touches-=1)},500):"mousedown"===a.type&&k.touches>0&&(b=!1),b},touchup:function(a){k.allowEvent(a)}};h.displayEffect=function(b){b=b||{},"duration"in b&&(j.duration=b.duration),j.wrapInput(i(".waves-effect")),"ontouchstart"in a&&document.body.addEventListener("touchstart",g,!1),document.body.addEventListener("mousedown",g,!1)},h.attach=function(b){"input"===b.tagName.toLowerCase()&&(j.wrapInput([b]),b=b.parentElement),"ontouchstart"in a&&b.addEventListener("touchstart",g,!1),b.addEventListener("mousedown",g,!1)},a.Waves=h,document.addEventListener("DOMContentLoaded",function(){h.displayEffect()},!1)}(window),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof module&&module.exports?module.exports=b():a.Colcade=b()}(window,function(){function a(a,b){if(a=f(a),a&&a.colcadeGUID){var c=j[a.colcadeGUID];return c.option(b),c}this.element=a,this.options={},this.option(b),this.create()}function b(b){var c=b.getAttribute("data-colcade"),d=c.split(","),e={};d.forEach(function(a){var b=a.split(":"),c=b[0].trim(),d=b[1].trim();e[c]=d}),new a(b,e)}function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if(Array.isArray(a))b=a;else if(a&&"number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b}function e(a,b){b=b||document;var c=b.querySelectorAll(a);return d(c)}function f(a){return"string"==typeof a&&(a=document.querySelector(a)),a}function g(a){return"complete"==document.readyState?void a():void document.addEventListener("DOMContentLoaded",a)}var h=a.prototype;h.option=function(a){this.options=c(this.options,a)};var i=0,j={};return h.create=function(){this.errorCheck();var a=this.guid=++i;this.element.colcadeGUID=a,j[a]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},h.errorCheck=function(){var a=[];if(this.element||a.push("Bad element: "+this.element),this.options.columns||a.push("columns option required: "+this.options.columns),this.options.items||a.push("items option required: "+this.options.items),a.length)throw new Error("[Colcade error] "+a.join(". "))},h.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},h.updateColumns=function(){this.columns=e(this.options.columns,this.element)},h.updateItems=function(){this.items=e(this.options.items,this.element)},h.getActiveColumns=function(){return this.columns.filter(function(a){var b=getComputedStyle(a);return"none"!=b.display})},h.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},h._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},h.layoutItems=function(a){a.forEach(this.layoutItem,this)},h.layoutItem=function(a){var b=Math.min.apply(Math,this.columnHeights),c=this.columnHeights.indexOf(b);this.activeColumns[c].appendChild(a),this.columnHeights[c]+=a.offsetHeight||1},h.append=function(a){var b=this.getQueryItems(a);this.items=this.items.concat(b),this.layoutItems(b)},h.prepend=function(a){var b=this.getQueryItems(a);this.items=b.concat(this.items),this._layout()},h.getQueryItems=function(a){a=d(a);var b=document.createDocumentFragment();return a.forEach(function(a){b.appendChild(a)}),e(this.options.items,b)},h.measureColumnHeight=function(a){var b=this.element.getBoundingClientRect();this.activeColumns.forEach(function(c,d){if(!a||c.contains(a)){var e=c.lastElementChild.getBoundingClientRect();this.columnHeights[d]=e.bottom-b.top}},this)},h.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},h.onDebouncedResize=function(){var a=this.getActiveColumns(),b=a.length==this.activeColumns.length,c=!0;this.activeColumns.forEach(function(b,d){c=c&&b==a[d]}),b&&c||(this.activeColumns=a,this._layout())},h.onLoad=function(a){this.measureColumnHeight(a.target)},h.destroy=function(){this.items.forEach(function(a){this.element.appendChild(a)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete j[this.guid]},g(function(){var a=e("[data-colcade]");a.forEach(b)}),a.data=function(a){a=f(a);var b=a&&a.colcadeGUID;return b&&j[b]},a.makeJQueryPlugin=function(b){function c(a,c,d){var e;return a.each(function(a,f){var g=b.data(f,"colcade");if(g){var h=g[c].apply(g,d);e=void 0===e?h:e}}),void 0!==e?e:a}function d(c,d){c.each(function(c,e){var f=b.data(e,"colcade");f?(f.option(d),f.layout()):(f=new a(e,d),b.data(e,"colcade",f))})}b=b||window.jQuery,b&&(b.fn.colcade=function(a){if("string"==typeof a){var b=Array.prototype.slice.call(arguments,1);return c(this,a,b)}return d(this,a),this})},a.makeJQueryPlugin(),a}),function(a){"use strict";a.ajaxChimp={responses:{"Thanks! Please open the confirmation email.":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (after the @: )":3,"The username portion of the email address is invalid (before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(b,c){a(b).ajaxChimp(c)}},a.fn.ajaxChimp=function(b){return a(this).each(function(c,d){var e=a(d),f=e.find("input[type=email]"),g=e.find("label[for="+f.attr("id")+"]"),h=a.extend({url:e.attr("action"),language:"en"},b),i=h.url.replace("/post?","/post-json?").concat("&c=?");e.attr("novalidate","true"),f.attr("name","EMAIL"),e.submit(function(){function b(b){if("success"===b.result)c="Thanks! Please open the confirmation email.",g.removeClass("error").addClass("valid"),f.removeClass("error").addClass("valid");else{f.removeClass("valid").addClass("error"),g.removeClass("valid").addClass("error");var d=-1;try{var e=b.msg.split(" - ",2);if(void 0===e[1])c=b.msg;else{var i=parseInt(e[0],10);i.toString()===e[0]?(d=e[0],c=e[1]):(d=-1,c=b.msg)}}catch(j){d=-1,c=b.msg}}"en"!==h.language&&void 0!==a.ajaxChimp.responses[c]&&a.ajaxChimp.translations&&a.ajaxChimp.translations[h.language]&&a.ajaxChimp.translations[h.language][a.ajaxChimp.responses[c]]&&(c=a.ajaxChimp.translations[h.language][a.ajaxChimp.responses[c]]),g.html(c),g.show(),h.callback&&h.callback(b)}var c,d={},j=e.serializeArray();a.each(j,function(a,b){d[b.name]=b.value}),a.ajax({url:i,data:d,success:b,dataType:"jsonp",error:function(a,b){console.log("mailchimp ajax submit error: "+b)}});var k="Submitting...";return"en"!==h.language&&a.ajaxChimp.translations&&a.ajaxChimp.translations[h.language]&&a.ajaxChimp.translations[h.language].submit&&(k=a.ajaxChimp.translations[h.language].submit),g.html(k).show(),!1})}),this}}(jQuery),function(a){function b(){k.setAttribute("content",n),o=!0}function c(){k.setAttribute("content",m),o=!1}function d(d){j=d.accelerationIncludingGravity,g=Math.abs(j.x),h=Math.abs(j.y),i=Math.abs(j.z),a.orientation&&180!==a.orientation||!(g>7||(i>6&&8>h||8>i&&h>6)&&g>5)?o||b():o&&c()}var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var f=a.document;if(f.querySelector){var g,h,i,j,k=f.querySelector("meta[name=viewport]"),l=k&&k.getAttribute("content"),m=l+",maximum-scale=1",n=l+",maximum-scale=10",o=!0;k&&(a.addEventListener("orientationchange",b,!1),a.addEventListener("devicemotion",d,!1))}}}(this),!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var b=_b();return a>b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Da=function(){return(new Date).getTime()},Ea=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Ga=function(a){da&&(a&&(s>f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+"px, 0px"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,"mousemove",Oa),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Ca("mouseUsed")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Oa),e.bind(window,"resize scroll",f),Ca("bindEvents")},Qa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Oa),N.transform&&e.unbind(f.scrollWrap,"click",f),U&&e.unbind(window,p,f),Ca("unbindEvents")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Va=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ia=function(a,b){b.left=a+"px"},Ha=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=oa.x+"px",a.top=oa.y+"px"}}},Wa=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca("updateScrollOffset",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f["init"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ca("firstUpdate"),m=m||i.index||0,(isNaN(m)||0>m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute("aria-hidden","false"),i.modal&&(ua?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Ca("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",
i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca("afterInit"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Ca("close"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca("destroy"),Wb&&clearTimeout(Wb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Ga()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=za(a);var b=a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca("beforeChange",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca("afterChange")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+"px"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca("beforeResize"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua("x",g,h,a),Ua("y",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return a?a.className&&a.className.indexOf("pswp__scroll-wrap")>-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca("preventDragEvent",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id="",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?"h"!==fa||"x"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,"x"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||"mousedown"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca("pointerDown"),F){var b=e.arraySearch(lb,a.pointerId,"id");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca("firstTouchStart",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,"id");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa="h";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?"h":"v",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca("zoomGestureStarted"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Ea(j),Ca("onPinchClose",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka("x",c),oa.y=Ka("y",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if("v"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca("onVerticalDrag",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb("x",ib);l||(Mb("y",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca("pointerUp"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,"id");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Lb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ca("touchRelease",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?"zoom":"swipe",_&&2>j&&(_=!1,1===j&&(g="zoomPointerUp"),Ca("zoomGestureEnded")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed("x"),S){var l=Hb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;cb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca("onVerticalDrag",1)}}else{if((Z||ea)&&0===j){var o=Tb(g,Q);if(o)return;g="zoomPointerUp"}if(!ea)return"swipe"!==g?void Vb():void(!Z&&s>f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb("bounceZoomPan"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Za.zoomPan&&(Za.zoomPan.raf=H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ga(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void _a("zoomPan")):void 0}};return c},Sb=function(a){return a.calculateSwipeSpeed("y"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(ab("zoomPan"),a.lastNow=Da(),void a.panAnimLoop())},Tb=function(a,b){var c;ea||(pb=m);var d;if("swipe"===a){var g=jb.x-kb.x,h=b.lastFlickDist.x<10;g>eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca("mainScrollAnimStart"),cb("mainScroll",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Ea(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ca("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Ga()),ab("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Wb=setTimeout(function(){if(Ca("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca("parseVerticalMargin",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);dc=[]}};ya("Controller",{publicMethods:{lazyLoadItem:function(a){a=za(a);var b=$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca("gettingData",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba("beforeChange",function(a){var b,c=i.preload,d=null===a?!0:a>=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba("mainScrollAnimComplete",mc),Ba("initialZoomInEnd",mc),Ba("destroy",function(){for(var a,b=0;b<Xb.length;b++)a=Xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dc=null})},getItemAt:function(a){return a>=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Ca("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};ya("Tap",{publicMethods:{initTap:function(){Ba("firstTouchStart",f.onTapStart),Ba("touchRelease",f.onTapRelease),Ba("destroy",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca("doubleTap",c);if("mouse"===b.type)return void pc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Ba("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c="wheel mousewheel DOMMouseScroll";Ba("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Ba("unbindEvents",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),1>s?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Ba("resize",g),Ba("afterChange",g),Ba("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Ba("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||$a||U?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,"deltaX"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return void(tc=setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var a=m+1,b=$b(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=xc+"&gid="+i.galleryUID+"&pid="+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var d=Bc.href.split("#")[0]+"#"+c;Cc?"#"+c!==window.location.hash&&history[yc?"replaceState":"pushState"]("",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya("History",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc="pushState"in history,xc.indexOf("gid=")>-1&&(xc=xc.split("&gid=")[0],xc=xc.split("?gid=")[0]),Ba("afterChange",f.updateURL),Ba("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){wc=!0,zc||(Ac?history.back():xc?Bc.hash=xc:Cc?history.pushState("",document.title,Bc.pathname+Bc.search):Bc.hash=""),Fc()};Ba("unbindEvents",function(){l&&a()}),Ba("destroy",function(){wc||a()}),Ba("firstUpdate",function(){m=Gc().pid});var b=xc.indexOf("pid=");b>-1&&(xc=xc.substring(0,b),"&"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a}),!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / "},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.className,g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>1200},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),c.href?c.hasAttribute("download")?!0:(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.className&&a.type.indexOf("mouse")>-1&&(d.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);
},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});var $contsize,$loadHoverVids,Footnotes;this.Stammy={},$contsize=0,$loadHoverVids=function(){return $(".hover-to-play video").each(function(a){return $(this).get(0).load(),$(this).get(0).addEventListener("canplaythrough",function(){return this.play(),this.pause()})})},Footnotes={footnotetimeout:!1,setup:function(){var a;return a=$("a[rel='footnote']"),a.unbind("mouseover",Footnotes.footnoteover),a.unbind("mouseout",Footnotes.footnoteoout),a.bind("mouseover",Footnotes.footnoteover),a.bind("mouseout",Footnotes.footnoteoout)},footnoteover:function(){var a,b,c,d,e,f;return clearTimeout(Footnotes.footnotetimeout),$("#footnotediv").stop(),$("#footnotediv").remove(),c=$(this).attr("href").substr(1),e=$(this).offset(),a=$(document.createElement("div")),a.attr("id","footnotediv"),a.bind("mouseover",Footnotes.divover),a.bind("mouseout",Footnotes.footnoteoout),b=document.getElementById(c),a.html("<div class='footnote-wrap'>"+$(b).html()+"</div><div class='footnote-label'>FOOTNOTE</div>"),a.find("a[rev='footnote']").remove(),a.find("a").first().remove(),$("#site").append(a),d=e.left,d+375>$(window).width()+$(window).scrollLeft()&&(d=$(window).width()-375+$(window).scrollLeft()),f=e.top+20,f+a.height()>$(window).height()+$(window).scrollTop()&&(f=e.top-a.height()-15),a.css({left:d,top:f})},footnoteoout:function(){return Footnotes.footnotetimeout=setTimeout(function(){return $("#footnotediv").animate({opacity:0},150,function(){return $("#footnotediv").remove()})},100)},divover:function(){return clearTimeout(Footnotes.footnotetimeout),$("#footnotediv").stop(),$("#footnotediv").css({opacity:1})}},$(function(){var a,b,c,d,e,f;return $("#footnotes").length&&$(window).width()>850&&Footnotes.setup(),$("#expand-photos").on("click",function(a){return a.preventDefault(),$(".view-more-posts").hide(),$("#photo-archives").show()}),$("#mc_embed_signup").length&&$("#mc-embedded-subscribe-form").ajaxChimp(),$(".hover-to-play").length&&(Modernizr.touch?$(".hover-to-play-wrap").each(function(){return $(this).addClass("mobile"),$(this).find("video").attr("controls","controls")}):($(".hover-to-play video").hover(function(){return $(this).css("opacity","1"),this.play()},function(){return $(this).css("opacity",".25"),this.pause()}),$(".hover-to-play video").bind("ended",function(){return this.play()}))),$("#home")&&($(".entry-title .hero-img").lazyload({effect:"fadeIn"}),$(".hero-delayed").unveil(1200)),c=0,e=function(){var a,b;return a=$(this).scrollTop(),b=$(window).height(),this._contentHeight=$("body").offset().top+$("body").height()},$(window).scroll($.throttle(250,e)),window.matchMedia("only screen and (min-width: 740px)").matches&&$(window).scroll($.throttle(150,function(){return window.scrollY>25?$("#progress-bar-container").find(".stammy-bar").show():$("#progress-bar-container").find(".stammy-bar").hide()})),document.addEventListener("touchstart",function(){},!1),$("pre").not(".noexpand").each(function(a){var b,c;return b=$(this).prop("scrollHeight"),b>250?(c=$("<div class='expand_code_wrap'><a href='javascript:void(0)' class='expand_code'>Expand Code</a></div>"),$(this).parent().prepend(c),c.data("scrollheight",b).next().css("max-height","250px")):void 0}),$(".expand_code").length>0&&$(".expand_code").on("click",function(){var a=this;return $(this).fadeOut(100,function(){var b;return b=$(a).parent().data("scrollheight")+10,$(a).parent().next().animate({height:b,"max-height":b},150,function(){})})}),$("#tweet_compose_close").on("click",function(a){return $("#tweet_it_bro").addClass("fallout")}),$("#post, #postex").length&&(initPhotoSwipeFromDOM("#postex"),f=$("#tweet_it_bro"),b=function(){return f.fadeIn(),!function(a,b,c){var d,e,f;return e=void 0,d=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https",a.getElementById(c)?void 0:(e=a.createElement(b),e.id=c,e.src=f+"://platform.twitter.com/widgets.js",d.parentNode.insertBefore(e,d))}(document,"script","twitter-wjs")},d=function(){var a;return a=$(window).scrollTop()/$(document).height()*100,a>50&&f.not(":visible")?b():35>a&&f.is(":visible")?f.addClass("fallout").delay(500).queue(function(a){return $(this).removeClass("fallout").hide(),a()}):void 0},window.matchMedia("only screen and (min-width: 400px)").matches&&($(window).scroll($.throttle(250,d)),d())),a=function(){return this.wrap_el=$("#progress-bar-container"),this.wrap_el.append("<span class='stammy-bar'></span>"),this.bar_el=$("#progress-bar-container").find(".stammy-bar"),this.init()},a.prototype.init=function(){var a,b,c=this;return this.calculate(),this.manualScroll(),a=$.throttle(50,function(){return c.calculate(),c.manualScroll()}),$(window).resize(a),b=$.throttle(50,function(){return c.manualScroll()}),$(window).scroll(b)},a.prototype.manualScroll=function(){var a,b;return a=($(window).height()+$(window).scrollTop())/this._contentHeight,b=a*this._scrollBarMaxWidth,b>this._scrollBarMaxWidth-15&&(b=this._scrollBarMaxWidth),0>b&&(b=0),a>.97?this.bar_el.css("background","blue"):.97>a&&this.bar_el.css("background","red"),this.bar_el.stop().animate({width:b+"px"},100)},a.prototype.calculate=function(){return this._scrollBarMaxWidth=$(window).width(),this._contentHeight=$("#site").offset().top+$("#site").height()},$("#postex").hasClass("is-post")&&$(window).bind("load",function(){return new a}),$("#postex")?$("#postex").fitVids():void 0});var $Stammy,$gridset,$mobile,$rerun,$resizer,$scrollPlay,$upscaleVid,$vidPause,WebP,initPhotoSwipeFromDOM,start;$Stammy={},$Stammy.videos={},$Stammy.inview_vids=[],$Stammy.ratios=[],$Stammy.pitm_tb_margin=0,$Stammy.imgs={},$Stammy.default_res=["500","1000","2000"],$Stammy.browser_supports_webp=!1,"undefined"==typeof window.supported_wbp||""===window.supported_wbp?$Stammy.photoset_supports_webp=!1:$Stammy.photoset_supports_webp=!!window.supported_wbp,WebP=new Image,WebP.onload=WebP.onerror=function(){return 2!==WebP.height?$Stammy.browser_supports_webp=!1:$Stammy.browser_supports_webp=!0},WebP.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",$Stammy.ratioGrid=function(a,b){var c,d,e;return e=b.length,c=b.map(function(a){var b,c,d,e;for(c=0,d=0,e=a.length;e>d;d++)b=a[d],c+=1/b;return c}),d=[],d=b.map(function(b,d){var e;return e=0,console.log(b),c.forEach(function(a,b){return console.log(a),d!==b?e+=1/c[b]:void 0}),a/(1+c[d]*e)}),b.map(function(a,b){return a.map(function(a,c){var e;return e=d[b],{width:e,height:e/a}})})},$gridset=function(){return $(".photoset-row").each(function(){var a,b,c,d,e,f,g,h,i,j,k;for(k=0,h=0,$Stammy.photoset_width=$(this).parent(".photoset").width(),1===$(this).children().length?$(this).find("figure").addClass("single"):$(this).children().length>=3&&$(this).find("figure").addClass("third"),a=$(this).find(".photoset-item"),b=$(this).parent(".photoset").width(),g=a.map(function(){return $(this).find("img").data("ratio")?$(this).find("img").data("ratio"):"VIDEO"===$(this).prop("tagName")?$(this).data("ratio")?$(this).data("ratio"):1.77777777777778:$(this).hasClass("photoset-video")?$(this).find("object").length?$(this).find(".video-js").data("ratio"):$(this).find("video").length?$(this).find(".video-js").data("ratio"):1.77777777777778:1.49925037481259}).get(),j=0,i=0,e=Math.min.apply(Math,g),c=0;c<a.length;)j+=g[c]/e,c++;return a.each(function(){return i+=parseInt($(this).css("margin-left"))+parseInt($(this).css("margin-right"))}),a.each(function(a){var c;return c=(b-i)/j,"VIDEO"===$(this).prop("tagName")?$(this).height(Math.ceil(c/e)).width(Math.ceil(c/e)*g[a]):$(this).hasClass("photoset-video")?$(this).find("object").length?$(this).find(".video-js").height(Math.floor(c/e)).width(Math.floor(c/e)*g[a]):$(this).find("video").length?$(this).find("video").height(Math.floor(c/e)).width(Math.floor(c/e)*g[a]):void 0:$(this).find("img").height(Math.ceil(c/e)).width(Math.ceil(c/e)*g[a])}),"undefined"==typeof window.supported_res||""===window.res?$Stammy.supported_res=$Stammy.default_res:$Stammy.supported_res=supported_res,d=$(this).children().length,f=$(this).parent(".photoset").width(),$(this).children().each(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if($(this).hasClass("photoset-video")){if(n=$(this),r=n.width(),"undefined"!=typeof n.attr("data-sizes")&&(p=$(this).find("source").first(),q=p.attr("src").split("/"),c=q[q.length-1].split("-"),c=c[c.length-1],v=p.attr("src").split(c)[0],m=$(this).attr("poster").split("/"),k=m[q.length-1].split("-"),k=k[k.length-2],m=$(this).attr("poster").split(k)[0],o=n.attr("data-sizes").split(" "),u=null,"true"===localStorage.getItem("hidpi")||window.devicePixelRatio>1&&$(window).width()>1400?r>900&&1350>r?-1!==$.inArray("lg",o)&&(u=v+"lg.mp4",l=m+"lg-poster.jpg"):r>1350&&(-1!==$.inArray("xl",o)?(u=v+"xl.mp4",l=m+"xl-poster.jpg"):(u=v+"lg.mp4",l=m+"lg-poster.jpg")):r>990&&-1!==$.inArray("lg",o)&&(u=v+"lg.mp4",l=m+"lg-poster.jpg"),null!==u))return w=!1,b=n.clone(),t=$(b).find("source"),$.each(t,function(a,b){return"video/mp4"===$(this).attr("type")?$(this).attr("src",u):"video/webm"===$(this).attr("type")?($(this).attr("src",u.split(".mp4")[0]+".webm"),w=!0):void 0}),$Stammy.browser_supports_webp&&$Stammy.photoset_supports_webp&&w&&(l=l.replace(/.jpg/i,".webp"),$(b).attr("poster",l)),f=n.parent().append(b),n.remove()}else if(g=$(this).find("img"),h=$(this).find("a"),j=g.width(),"undefined"!=typeof g.attr("data-src")&&(i=g.attr("data-src").split("/"),e=g.attr("data-ratio"),c=i[i.length-1].split("-"),c=c[c.length-1],s=c.split(".")[0],v=g.attr("data-src").split(c)[0],-1!==i[i.length-1].indexOf("DSC0")&&("true"===localStorage.getItem("hidpi")||window.devicePixelRatio>1&&$(window).width()>1400?400>j?u=v+"500.jpg":600>j&&j>400?u=-1!==$.inArray("750",$Stammy.supported_res)?v+"750.jpg":v+"1000.jpg":j>600&&900>j?u=v+"1000.jpg":j>900&&1100>j?u=-1!==$.inArray("1280",$Stammy.supported_res)?v+"1280.jpg":-1!==$.inArray("1500",$Stammy.supported_res)?v+"1500.jpg":v+"2000.jpg":j>1100&&1400>j?-1!==$.inArray("1500",$Stammy.supported_res)?u=v+"1500.jpg":-1!==$.inArray("2000",$Stammy.supported_res)&&(u=v+"2000.jpg"):j>1400&&-1!==$.inArray("2000",$Stammy.supported_res)&&(u=v+"2000.jpg"):(525>j&&(u=v+"500.jpg"),750>j&&j>525?u=-1!==$.inArray("750",$Stammy.supported_res)?v+"750.jpg":v+"1000.jpg":j>750&&1020>j?u=v+"1000.jpg":j>1020&&1200>j?u=-1!==$.inArray("1280",$Stammy.supported_res)?v+"1280.jpg":-1!==$.inArray("1500",$Stammy.supported_res)?v+"1500.jpg":v+"2000.jpg":j>1200&&(-1!==$.inArray("1500",$Stammy.supported_res)?u=v+"1500.jpg":-1!==$.inArray("2000",$Stammy.supported_res)&&(u=v+"2000.jpg"))),a=$(window).width(),d=a>1500?v+"2000.jpg":1500>a&&a>1200?-1!==$.inArray("1500",$Stammy.supported_res)?v+"1500.jpg":v+"2000.jpg":a>1e3&&1200>a?-1!==$.inArray("1280",$Stammy.supported_res)?v+"1280.jpg":-1!==$.inArray("1500",$Stammy.supported_res)?v+"1500.jpg":v+"1000.jpg":v+"1000.jpg",null!==u)))return $Stammy.browser_supports_webp&&$Stammy.photoset_supports_webp&&(u=u.replace(/.jpg/i,".webp"),d=d.replace(/.jpg/i,".webp")),"https://turbo.paulstamatiou.com/assets/loader.png"!==g.attr("src")&&g.attr("src",u),g.attr("data-src",u),h.attr("href",d)})})},$scrollPlay=function(){return window.setTimeout(function(){return $("svg.nz-country").on("inview",function(a,b){return b&&!$(this).hasClass("animate")?$(this).addClass("animate"):void 0}),$(".map-card").on("inview",function(a,b){return b&&!$(this).hasClass("animate")?$(this).addClass("animate"):void 0}),$mobile===!1?$(".inner-site-wrap video").each(function(){return $(this).hasClass("cover-video")?$(this).on("inview",function(a,b){return b?($(this).attr("preload","auto"),$(this)[0].play()):($(this).attr("preload","metadata"),$(this).attr("muted")?$(this)[0].pause():$(this).stop(!0,!0).animate({volume:0},500,function(){return $(this)[0].pause()}))}):$(this).on("inview",function(a,b){return b?($(this).attr("preload","metadata"),$(this)[0].play(),$(this).attr("muted")||($(this)[0].volume=0,$(this).stop(!0,!0).animate({volume:.25},500)),$Stammy.inview_vids.push($(this)[0])):($(this).attr("preload","metadata"),$(this).attr("muted")?$(this)[0].pause():$(this).stop(!0,!0).animate({volume:0},500,function(){return $(this)[0].pause()}),$Stammy.inview_vids.pop($(this)[0]))})}):$(".inner-site-wrap video").each(function(){return $(this).attr("preload","none"),$(this).attr("controls","true")})},1e3)},$vidPause=function(){return $(".inner-site-wrap video").each(function(){return $(this)[0].paused?void 0:$(this)[0].pause()})},$resizer=function(){return $gridset()},$rerun=function(){return $scrollPlay(),$gridset(),$("figure img").unveil(2e3,function(){return $(this).on("load",function(){return this.style.opacity=1})}),$(".sidebar-left img").unveil(800,function(){return $(this).on("load",function(){return this.style.opacity=1})}),$(".sidebar-right img").unveil(800,function(){return $(this).on("load",function(){return this.style.opacity=1})})},$mobile=!1,start="",$Stammy.swap=function(a){var b,c;return start||(start=a),b=a-start,c=Math.abs(1-Math.min(b/10,250)/25),.05>c&&(c=0),$(".placeholder-cover").css("opacity",c),250>b?window.requestAnimationFrame($Stammy.swap):($(".placeholder-cover").css("opacity",0),$("#cover_figure").css("background",""),$(".inner-site-wrap").length?initPhotoSwipeFromDOM(".inner-site-wrap"):void 0)},$Stammy.show_hidpi_fab=function(){return window.innerWidth>1150?($("#hidpi-fab").fadeIn(200),$("#hidpi-fab").on("click",function(){return $("#hidpi").removeClass("fallout"),$("#hidpi").fadeIn(200),$("#hidpi-fab").hide()})):void 0},$(function(){var a;return $("#mute-fab").on("click",function(a){return $(this).hasClass("muted")?($(this).removeClass("muted"),$("video").each(function(){return $(this).prop("muted",!1)}),localStorage.setItem("muted-vids","false")):($(this).addClass("muted"),$("video").each(function(){return $(this).prop("muted",!0),$(this).prop("playsinline",!0)}),localStorage.setItem("muted-vids","true"))}),"true"===localStorage.getItem("muted-vids")?($("#mute-fab").addClass("muted"),$("video").each(function(){return $(this).prop("muted",!0),$(this).attr("muted",!0),$(this).attr("playsinline",!0),$(this).prop("playsinline",!0)})):($("#mute-fab").removeClass("muted"),$("video").each(function(){return $(this).prop("muted",!1)})),$("#hidpi_close").on("click",function(a){return $("#hidpi").addClass("fallout"),$Stammy.show_hidpi_fab()}),window.innerWidth<500&&($("svg.nz-country").addClass("animate"),$(".map-card").addClass("animate")),$("#overflow a.overflow-btn").on("click",function(a){return a.preventDefault(),a.target!==!this?$("#overflow-drop").hasClass("open")?$("#overflow-drop").removeClass("open"):$("#overflow-drop").addClass("open"):void 0}),$("body").on("click",function(a){return 0===$("#overflow").has($(a.target)).length&&$("#overflow-drop").hasClass("open")?$("#overflow-drop").removeClass("open"):void 0}),$Stammy.load_cover=function(){var a,b,c,d,e,f,g,h,i,j;return($(".inner-site-wrap").length||$(".photoset-index-header-wrap").length)&&(b=window.innerWidth,f=!0,b>1200&&window.devicePixelRatio>1&&($(".hidpi-btn-regular").on("click",function(a){var b;return $(".hidpi-btn").removeClass("selected"),$(".hidpi-btn-regular").addClass("selected"),localStorage.setItem("hidpi","false"),$(".photoset:not(.photoset-header-cover)").removeAttr("style"),$rerun(),b=$("#hidpi"),b.delay(500).queue(function(a){return $Stammy.prompt_animating=!1,$(this).addClass("fallout"),$Stammy.show_hidpi_fab(),b.delay(500).queue(function(a){return $(this).removeClass("fallout").hide(),a()}),a()})}),$(".hidpi-btn-hires-wider").on("click",function(a){var b;return $(".hidpi-btn").removeClass("selected"),$(".hidpi-btn-hires-wider").addClass("selected"),localStorage.setItem("hidpi","true"),$(".photoset:not(.photoset-header-cover)").css("max-width","1500px"),$(".photoset:not(.photoset-header-cover)").css("width","100%"),$rerun(),b=$("#hidpi"),b.delay(500).queue(function(a){return $Stammy.prompt_animating=!1,$(this).addClass("fallout"),$Stammy.show_hidpi_fab(),b.delay(500).queue(function(a){return $(this).removeClass("fallout").hide(),a()}),a()})}),"true"===localStorage.getItem("hidpi")&&($(".hidpi-btn").removeClass("selected"),$(".hidpi-btn-hires-wider").addClass("selected"),$(".photoset:not(.photoset-header-cover)").css("max-width","1500px"),$(".photoset:not(.photoset-header-cover)").css("width","100%"),$rerun()),$Stammy.show_hidpi_fab()),$(".full-cover-loaded").length?(e=$(".full-cover-loaded").attr("src"),e===$(".placeholder-cover").data("cover")&&(f=!1),e===$(".placeholder-cover").data("large")&&(b>1501?(c=$(".placeholder-cover").data("cover"),f=!0):f=!1),e===$(".placeholder-cover").data("medium")&&(f=!1,b>1e3&&(c=$(".placeholder-cover").data("large"),f=!0),b>1501&&(c=$(".placeholder-cover").data("cover"),f=!0))):$(".placeholder-cover").length&&(b>1501&&(c=$(".placeholder-cover").data("cover")),1501>b&&b>1e3&&(c=$(".placeholder-cover").data("large")),1e3>b&&(c=$(".placeholder-cover").data("medium")),600>b&&(f=!1)),$(".placeholder-cover").length&&(d=$(".placeholder-cover").data("ratio"),""===d&&(d=1.5),i=function(b){var c,d,e,f;if(b.lengthComputable)return c=b.loaded,f=b.total,e=(c/f).toFixed(2),d=parseInt(100*e),a.find(".line").css("width",d+" %")},g=function(b){var e;return a.find(".line").css("width","calc(100% - 6px)"),$(".full-cover-loaded").length?$(".full-cover-loaded").attr("src",c):(e=document.createElement("img"),e.setAttribute("src",c),$(e).addClass("full-cover-loaded"),1===$(".photoset-index-header-wrap").length&&$(e).addClass("collection-index"),1.33>d&&$(e).addClass("tall-ratio"),$(e).attr("data-ratio",d),$(".photoset-header-cover-a").append(e)),setTimeout(function(){return a.fadeOut(300,function(){return window.requestAnimationFrame($Stammy.swap)})},200)},h=function(b){return a.fadeOut(300),$(".placeholder-cover").attr("src",c),$(".placeholder-cover").addClass("failed"),$(".placeholder-cover").removeClass("filter")},a=$("#cover_progress"),f?(a.show(),$(".placeholder-cover").addClass("filter"),a.addClass("show"),j=new XMLHttpRequest,j.onprogress=i,j.onload=g,j.onerror=h,j.open("GET",c,!0),j.send(null)):$(".placeholder-cover").removeClass("filter")),$(".inner-site-wrap").length)?initPhotoSwipeFromDOM(".inner-site-wrap"):void 0},$Stammy.load_cover(),$(window).resize($.throttle(700,$Stammy.load_cover)),($(".photoset-index-link").length||$(".photoset-index-header-wrap").length)&&(a=$("link[rel='canonical']").attr("href").split("https://paulstamatiou.com")[1],localStorage.setItem(a,"true"),$("#photosetlist li").each(function(){var a;return a=$(this).find("a").attr("href"),"true"===localStorage.getItem(a)?$(this).addClass("read"):void 0})),Modernizr.touchevents&&($mobile=!0,$mobile&&$(".day-stats").addClass("animate"),$("body").addClass("mobile")),$mobile?window.onorientationchange=function(){return $resizer()}:$(window).resize($.throttle(150,$resizer)),$rerun()}),initPhotoSwipeFromDOM=function(a){var b,c,d,e,f,g,h;for(h=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(q=a,m=q.length,j=[],e=void 0,k=void 0,p=void 0,i=void 0,g=0;m>g;)e=q[g],1===e.nodeType&&(k=e.children[0],h=!1,"A"===k.tagName?f=k.getAttribute("href"):"IMG"===k.tagName?(f=$(e).find("img").attr("src"),$(e).find("img").wrap('<a href="'+f+'">')):"SOURCE"===k.tagName&&(h=!0),h?(r=e,o=""!==r.getAttribute("data-ratio")?r.getAttribute("data-ratio"):1.777,s=$(r).clone(),s.css("width","auto"),s.css("height","auto"),s.attr("controls","controls"),s.addClass("pswp-video"),s.prop("playsinline",!0),"true"===localStorage.getItem("muted-vids")&&s.prop("muted",!0),i={html:s[0],is_video:!0},i.el=e,j.push(i),g++):(k=e.children[0],b=$(k).find("img").first(),o="undefined"==typeof b.data("ratio")?1.5:""!==b.data("ratio")?b.data("ratio"):1.5,i={src:f,w:parseInt(1500,10),h:parseInt(1500/o,10),is_video:!1},e.children.length>1&&(i.title=e.children[1].innerHTML),k.children.length>0&&(i.msrc=k.children[0].getAttribute("src")),i.el=e,j.push(i),g++));return c="https://turbo.paulstamatiou.com/p/","undefined"!=typeof next_post&&(next_post.title.length>0&&(l="<a href='"+next_post.url+"' class='lightbox-item'><header><p class='heading'>NEXT</p><h1>"+next_post.title+"</h1>           <p class='desc'>"+next_post.subtitle+"</p></header>           <img src='"+c+next_post.cover+"'/></a>",d=l),prev_post.title.length>0&&(n="<a href='"+prev_post.url+"' class='lightbox-item'><header><p class='heading'>PREVIOUS</p><h1>"+prev_post.title+"</h1>           <p class='desc'>"+prev_post.subtitle+"</p></header>           <img src='"+c+prev_post.cover+"'/></a>",d=n),next_post.title.length>0&&prev_post.title.length>0&&(d=l+n),j.push({html:"<div id='lightbox-photoset-nav'>"+d+"</div>"})),j},b=b=function(a,c){return a&&(c(a)?a:b(a.parentNode,c))},f=function(c){var d,e,f,h,i,j,k,l;if(c=c||window.event,c.preventDefault?c.preventDefault():c.returnValue=!1,h=c.target||c.srcElement,f=b(h,function(a){return a.tagName&&("FIGURE"===a.tagName.toUpperCase()||"VIDEO"===a.tagName.toUpperCase())})){for(i=$(a).find(".photoset-item"),e=f.parentNode,d=i,l=0,k=void 0,j=0;j<i.length;)if(1===d[j].nodeType){if(d[j]===f){k=l;break}l++,j++}return k>=0&&(g(k,i),$("#site").addClass("pswp--activated")),!1}},g=function(a,b,c,d){var e,f,g,i,j,k,l,m,n,o,p;return j=document.querySelectorAll(".pswp")[0],f=void 0,i=void 0,g=void 0,g=h(b),i={history:!1,timeToIdle:1e3,closeEl:!0,captionEl:!0,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!1,galleryUID:$(b).data("pswp-uid"),getThumbBoundsFn:function(a){var b,c,d;return a!==g.length-1?g[a].is_video===!1?(d=g[a].el.getElementsByTagName("img")[0],b=window.pageYOffset||document.documentElement.scrollTop,c=d.getBoundingClientRect(),{x:c.left,y:c.top+b,w:c.width}):(d=g[a].el,b=window.pageYOffset||document.documentElement.scrollTop,c=d.getBoundingClientRect(),{x:c.left,y:c.top+b,w:c.width}):void 0}},i.index=parseInt(a,10),isNaN(i.index)?void 0:(c&&(i.showAnimationDuration=0),f=new PhotoSwipe(j,PhotoSwipeUI_Default,g,i),f.init(),$vidPause(),e=$(f.currItem.container),l=e.find(".pswp-video"),l.length>0&&(m=(1/l.data("ratio")*100).toFixed(3),o=$(window).height(),p=$(window).width(),n=l.width(),k=l.innerHeight(),k>o&&l.attr("style","height: "+o+"px !important"),l.wrap("<div class='pswp-video-wrap-outer'></div>"),l.wrap("<div class='pswp-video-wrap-inner' style='padding-bottom:"+m+"%'></div>"),$(".pswp-video").removeClass("active"),l.addClass("active"),$(".pswp-video").each(function(){return $(this).on("inview",function(a,b){return b?$(this)[0].play():$(this)[0].pause()})})),f.listen("afterChange",function(a,b){return $(".pswp-video").each(function(){return $(this).on("inview",function(a,b){return b?$(this)[0].play():$(this)[0].pause()})})}),f.listen("beforeChange",function(){return e=$(f.currItem.container),l=e.find(".pswp-video"),l.length>0?(m=(1/l.data("ratio")*100).toFixed(3),o=$(window).height(),p=$(window).width(),n=l.width(),k=l.innerHeight(),k>o&&l.attr("style","height: "+o+"px !important"),l.wrap("<div class='pswp-video-wrap-outer'></div>"),l.wrap("<div class='pswp-video-wrap-inner' style='padding-bottom:"+m+"%'></div>"),$(".pswp-video").removeClass("active"),l.addClass("active")):void 0}),f.listen("close",function(){return $("#site").removeClass("pswp--activated"),$(".pswp-video").each(function(){return $(this)[0].pause()}),$mobile===!1?$($Stammy.inview_vids).each(function(){return $(this).attr("preload","metadata"),$(this)[0].play(),$(this).attr("muted")?void 0:($(this)[0].volume=0,$(this).stop(!0,!0).animate({volume:.25},250))}):void 0}))},c=$(a).find(".photoset-item"),d=0,e=c.length;e>d;)c[d].setAttribute("data-pswp-uid",d+1),c[d].onclick=f,d++},$upscaleVid=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return"undefined"==typeof a.attr("data-sizes")?!1:(k=$(window).width(),i=a.find("source").first(),j=i.attr("src").split("/"),c=j[j.length-1].split("-"),c=c[c.length-1],n=i.attr("src").split(c)[0],g=a.attr("poster").split("/"),e=g[j.length-1].split("-"),e=e[e.length-2],g=a.attr("poster").split(e)[0],h=a.attr("data-sizes").split(" "),m=null,"true"===localStorage.getItem("hidpi")||window.devicePixelRatio>1&&$(window).width()>1400?k>900&&1350>k?-1!==$.inArray("lg",h)&&(m=n+"lg.mp4",f=g+"lg-poster.jpg"):k>1350&&(-1!==$.inArray("xl",h)?(m=n+"xl.mp4",f=g+"xl-poster.jpg"):(m=n+"lg.mp4",f=g+"lg-poster.jpg")):k>990&&-1!==$.inArray("lg",h)&&(m=n+"lg.mp4",f=g+"lg-poster.jpg"),null!==m?(o=!1,b=a.clone(),l=$(b).find("source"),$.each(l,function(a,b){return"video/mp4"===$(this).attr("type")?$(this).attr("src",m):"video/webm"===$(this).attr("type")?($(this).attr("src",m.split(".mp4")[0]+".webm"),o=!0):void 0}),$Stammy.browser_supports_webp&&$Stammy.photoset_supports_webp&&o&&(f=f.replace(/.jpg/i,".webp"),$(b).attr("poster",f)),d=a.parent().append(b),a.remove(),d):void 0)};//@stammy was here. please dont steal. email. paulstamatiou.com/contact